<!Doctype html>
<html lang="de">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- Das neueste kompilierte und minimierte CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
   <link rel="stylesheet" type="text/css" href="stylesheet.css">
   
    <title>Applezone Shop</title>
  </head>

  <body>
      
<header>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">

            <div class="navbar-header">
                <!-- Das hier soll der Button sein, mit dem Man Dinge Öffnen kann kann; kriege ihn nicht funktionsfähig. 
                <button type="button" class="btn navbar-brand" data-target="#demo" data-toggle="collapse" style="margin: 5px; width: 65px; height: 40px; background-color:gray"> </button> -->
                
                <ul class="nav navbar-nav">
                    <!--Das sind die Sachen, die eigentlich im Dropdown sein sollten... -->

                    <!--
                    <li class="dropdown nav-item"><a  class="dropdown-toggle nav-link" data-toggle="dropdown" id="navID"><strong>BUTTON</strong></a>  Das müsste jetzt der erste Dropdown-Link sein?
                    <div class="dropdown-menu"> 
                    -->

                        <li class="nav-item"><a class="nav-link" href="/shop"><strong>Home</strong></a></li> <!--It works if I only have the link <a> with class "dropdown-item"-->

                           
                         <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown"><strong>Our Apples <span class="caret"></span></strong></a>
                               
                                <!--Hier eine Liste mit allen einzelnen Detailseiten, dropdown; Ich weiß nicht warum das nicht funktionieren will :(-->
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="/detail/1">First Apple</a>
                                    <a class="dropdown-item" href="/detail/2">Second Apple</a>
                                    <a class="dropdown-item" href="/detail/2">Third Apple</a>
                               </div>
                         </li> <!--Das li umarmt nur diesen Äpfel-Teil-->
                        

                        <li class="nav-item"><a  class="nav-link" href="/cart"><strong>Shopping Cart</strong></a></li> <!--Kann auch gelöscht werden wegen Warenkorb Icon, aber nicht alle checken das.-->
                        <li class="nav-item"><a  class="nav-link" href="/about">About Us</a></li>
                        <!--Hiier eine Liste mit allen einzelnen Paragraphen auf der About Us Seite, collapsed-->
                        <li class="nav-item"><a  class="nav-link" href="/about#cs">Customer Service</a></li> <!--Scroll to Customer Service Automatically-->
                        
                        <!-- Bedenke: die beiden "produktliste" und "create" müssen hier gelöscht werden, 
                        weil sie nur von Admins/ Uns zugänglich sein sollen-->
                        <li class="nav-item"><a  class="nav-link" href="/produktliste">Update an Apple</a></li> <!--Admins only! -->
                        <li class="nav-item"><a  class="nav-link" href="/create">Create an Apple</a></li> <!--Admins only! -->
                    
                    <!-- 
                    </div>
                    </li> Die Dropdown-Überschrift "Home" "umarmt" alles-->
                
                </ul>

            </div>
          
            <ul class="nav navbar-nav navbar-right">
                <li style="float:right"><a href="/cart"><img class="korbdesign" src="../public/korb.png" alt="Warenkorb" width="20" height="20" style="border-radius: 5%;"></a></li>
                <!--Hier Logout | Nutzername ODER Login | Register -->    
                <li style="float:right"><a  href="/Logout">Logout | <%=nutzername%><br></a></li>
            </ul>
        </div>
  </nav>
</header>


    
<container class="col-md-12">
    <section id="section1">
            <div class="jumbotron jumbotron-fluid">
            <div class="container-fluid"> 
            <div class="jText">
                <h2><strong>Welcome to Applezone!</strong></h2>
                <p><strong>Juicy or Crunchy - <br> here you can find the Apple <span><em>you</em></span> deserve!</strong></p>
            </div>
            </div>
            </div>
    </section>
</container>  

    <section id="section2"> <!--hier könnte man eine Searchbar einbauen, um nach bestimmten Produkten zu suchen oder so--> 
    <hr>
        <button type="button" data-target="#demo" data-toggle="collapse">Collapse Button</button>
                
            <div class="collapse" id="demo">
                Collapsible content <br>
                More content <br>
                Loads of content <br>
            </div>
                <!--Okay this just full-on doesn't work? Seems to not have to do with any formatting either. I fucking hate it. -->  
    </section>
    
<container class="container-fluid">
    <section id="section3" class="col-12"> <!--Das wird die Main Section mit den Produkten-->

        <% for(product of produkte){ %>
            <% if(product.versteckt == true){ continue;}%> <!--Versteckte überspringen-->
            <div class="thumbnail col-md-3"> <!--Hier werden die Praktisch in Reihen aufgeteilt-->
                <img class="card-image-top" alt="apple pic" src=<%=product.bild%>>
                <div class="caption">

                    <h4><%=product.name%></h4>
                    <p><%=product.story%></p>
                    <p id="price">Price: <%=product.preis%>€</p>
            
                    <% if(nutzername != "Guest"){ %><p id="abovePrice" style="display: inline;">
                        <div class="input-group">
                        <form action="detail/<%=product.id%>" method="POST" id="f1"> <input type="submit" value="view details" class="btn btn-primary " /> </form>
                        <span class="input-group-btn" style="width:5px;"></span>  <!--Damit die nebeneinander sind-->
                        <form action="addcart/<%=product.id%>" method="POST" id="f2"> <input type="submit" value="add to cart" class="btn btn-success " /> </form></div>
                        </p>
                        <% }%>
                    <% if(nutzername == "Guest"){ %>
                        <p>Add to cart? <a href="/login">Log in!</a></p><% }%>
                  </div>
            </div>
          <% }%>

    </section>
</container>

<!--Habe ne class und Breite für den Footer hinzugefügt-->
<footer>
    <div class="bottom-footer">
        <div class="col-md-12"> 
            <ul class="footer-nav">
                <a href="/about">About Us</a><br>
                
                <a href="/about#terms"> Terms of Service</a> <br>
            
                <p>Spring 2021</p> <br>
            </ul>
        </div>
    </div>
</footer>
</body>
</html>